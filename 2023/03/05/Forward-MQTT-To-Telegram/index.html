<html lang="en"><head><link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css"></head><body><x_layout_ejs">
  
  

  <x_partial_head_ejs>
   
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">

      <!-- Tachyons Core CSS -->
      <link rel="stylesheet" href="https://unpkg.com/tachyons@4.12.0/css/tachyons.min.css">

      <!-- Custom Fonts -->
      <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

      <!-- Custom CSS -->
      
<link rel="stylesheet" href="/css/style.css">

   <meta name="generator" content="Hexo 6.3.0">
</x_partial_head_ejs>


  

    <x_post_ejs>
   <!-- Banner -->
   <x_partial_banner_ejs>
   <div class="w-100 bg-banner ph5-ns ph3 text-light mb4">

      <nav class="db dt-l w-100 mw10 center border-box pv3">
         <div class="db dtc-l v-mid w-100 w-75-l tc tr-l">
            
            <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/" title="Home">
               Home
            </a>
            
         </div>
      </nav>

      <!-- Title -->
      <div class="w-100 mw10 center vh-20 dt">
         <div class="dtc v-mid white">
            <h1 class="f1-l f2-m tc tc-m tl-ns mv0">My Digital Garden</h1>
            <p class="ma0 pb3 f4 fw3 tc tc-m tl-ns">Digital Garden of Horst Fleischer</p>
         </div>
      </div>
   </div>
</x_partial_banner_ejs>

   <!-- Content -->
   <div class="w-100 ph2 ph4-m ph5-l">
      <div class="content">
         <div class="fl w-100 w-80-l mw9 left pr4-ns pr0-m mb4 br-l b--light-gray post-content">
            <h1>
               Forward MQTT message to telegram
            </h1>
            <div>
               Forward MQTT messages from Smtp2MQTT and Webhook2MQTT to Telegram
            </div>

            <!-- TOC -->
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Workflow-for-sending-MQTT-to-Telegram"><span class="toc-number">1.</span> <span class="toc-text">Workflow for sending MQTT to Telegram</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MQTT-node"><span class="toc-number">2.</span> <span class="toc-text">MQTT node</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MQTT-configuration"><span class="toc-number">3.</span> <span class="toc-text">MQTT configuration</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Convert-MQTT-payload-from-string-to-Javascript-object"><span class="toc-number">4.</span> <span class="toc-text">Convert MQTT payload from string to Javascript object</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Switch-depending-on-topic"><span class="toc-number">5.</span> <span class="toc-text">Switch depending on topic</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Create-Telegram-message-for-SMTP"><span class="toc-number">6.</span> <span class="toc-text">Create Telegram message for SMTP</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Create-Telegram-message-for-WebHook"><span class="toc-number">7.</span> <span class="toc-text">Create Telegram message for WebHook</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Send-Telegram-message-to-SmartHomeNotification-channel"><span class="toc-number">8.</span> <span class="toc-text">Send Telegram message to SmartHomeNotification channel</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Write-log-message-to-NodeRed-console-and-therefore-to-Loki"><span class="toc-number">9.</span> <span class="toc-text">Write log message to NodeRed console and therefore to Loki</span></a></li></ol>

            <!-- Main Post Content -->
            <h1 id="Workflow-for-sending-MQTT-to-Telegram"><a href="#Workflow-for-sending-MQTT-to-Telegram" class="headerlink" title="Workflow for sending MQTT to Telegram"></a>Workflow for sending MQTT to Telegram</h1><p><img src="/2023/03/05/Forward-MQTT-To-Telegram/01_Workflow.png" alt="WorkFlow"></p>
<h1 id="MQTT-node"><a href="#MQTT-node" class="headerlink" title="MQTT node"></a>MQTT node</h1><p><img src="/2023/03/05/Forward-MQTT-To-Telegram/02-Mqtt-Node.png" alt="WorkFlow"></p>
<h1 id="MQTT-configuration"><a href="#MQTT-configuration" class="headerlink" title="MQTT configuration"></a>MQTT configuration</h1><p><img src="/2023/03/05/Forward-MQTT-To-Telegram/03-Mqtt-Broker-Node-Configuration.png" alt="WorkFlow"></p>
<h1 id="Convert-MQTT-payload-from-string-to-Javascript-object"><a href="#Convert-MQTT-payload-from-string-to-Javascript-object" class="headerlink" title="Convert MQTT payload from string to Javascript object"></a>Convert MQTT payload from string to Javascript object</h1><p><img src="/2023/03/05/Forward-MQTT-To-Telegram/04-Convert-Payload-To-JSON.png" alt="WorkFlow"></p>
<h1 id="Switch-depending-on-topic"><a href="#Switch-depending-on-topic" class="headerlink" title="Switch depending on topic"></a>Switch depending on topic</h1><p><img src="/2023/03/05/Forward-MQTT-To-Telegram/05-Switch-mqttType.png" alt="WorkFlow"></p>
<h1 id="Create-Telegram-message-for-SMTP"><a href="#Create-Telegram-message-for-SMTP" class="headerlink" title="Create Telegram message for SMTP"></a>Create Telegram message for SMTP</h1><p><img src="/2023/03/05/Forward-MQTT-To-Telegram/06-Create-Telegram-Message-Smtp.png" alt="WorkFlow"></p>
<h1 id="Create-Telegram-message-for-WebHook"><a href="#Create-Telegram-message-for-WebHook" class="headerlink" title="Create Telegram message for WebHook"></a>Create Telegram message for WebHook</h1><p><img src="/2023/03/05/Forward-MQTT-To-Telegram/07-Create-Telegram-Message-Webhook.png" alt="WorkFlow"></p>
<h1 id="Send-Telegram-message-to-SmartHomeNotification-channel"><a href="#Send-Telegram-message-to-SmartHomeNotification-channel" class="headerlink" title="Send Telegram message to SmartHomeNotification channel"></a>Send Telegram message to SmartHomeNotification channel</h1><p><img src="/2023/03/05/Forward-MQTT-To-Telegram/08-Send-To-SmartHomeNotificaton-Channel.png" alt="WorkFlow"></p>
<h1 id="Write-log-message-to-NodeRed-console-and-therefore-to-Loki"><a href="#Write-log-message-to-NodeRed-console-and-therefore-to-Loki" class="headerlink" title="Write log message to NodeRed console and therefore to Loki"></a>Write log message to NodeRed console and therefore to Loki</h1><p><img src="/2023/03/05/Forward-MQTT-To-Telegram/09-Notification-Sent-To-Telegram.png" alt="WorkFlow"><br><img src="/2023/03/05/Forward-MQTT-To-Telegram/10-Mqtt.png" alt="WorkFlow"></p>

         </div>
         <!-- right side bar-->
         <div class="fl w-100 w-20-l pl1-ns mb4">

            <!-- Widget 1: Tags -->
            
            <x_partial_widget_tags_ejs>
  <div class="">
    <h2>Tags</h2>
    
    <p>
      <a class="fw3 ph1 dib" href="/tags/Docker/">Docker</a>
    </p>
    
    <p>
      <a class="fw3 ph1 dib" href="/tags/Raspberry-Pi/">Raspberry Pi</a>
    </p>
    
    <p>
      <a class="fw3 ph1 dib" href="/tags/NodeRed/">NodeRed</a>
    </p>
    
    <p>
      <a class="fw3 ph1 dib" href="/tags/Telegram/">Telegram</a>
    </p>
    
  </div>
</x_partial_widget_tags_ejs>
            

            <!-- Widget 2: ExternalLinks -->
            
   
         </div>
      </div>
   </div>
</x_post_ejs>

    <x_partial_footer_ejs>
   <div class="fixed db w-100 tc tr-l bg-1 bottom-0">
      <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/admin/datenschutzerklaerung.html" title="Datenschutzerklärung">
         Datenschutzerklärung
      </a>
      <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/admin/impressum.html" title="Impressum">
         Impressum
      </a>
   </div>
</x_partial_footer_ejs>

  

  
</x_layout_ejs"></body><script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script><script>window.addEventListener("load", function(){window.cookieconsent.initialise({"theme":"classic","position":"bottom","static":true,"cookie":{"expiryDays":7},"content":{"message":"This website uses cookies to ensure you get the best experience on our website. Who doesn't like cookies?","dismiss":"Feed me"}})});</script></html>