<!DOCTYPE html>
<html lang="en"><head><title>Inter-Pod-Kommunkation mit Flannel</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Segoe UI:wght@400;700&amp;family=Segoe UI:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="MyDigitalGarden"/><meta property="og:title" content="Inter-Pod-Kommunkation mit Flannel"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Inter-Pod-Kommunkation mit Flannel"/><meta name="twitter:description" content="Inter-Pod-Kommunkation mit Flannel"/><meta property="og:description" content="Inter-Pod-Kommunkation mit Flannel"/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="Inter-Pod-Kommunkation mit Flannel"/><meta property="og:image:url" content="https://fleishor.github.io/static/Kubernetes.png"/><meta name="twitter:image" content="https://fleishor.github.io/static/Kubernetes.png"/><meta property="og:image" content="https://fleishor.github.io/static/Kubernetes.png"/><meta property="twitter:domain" content="fleishor.github.io"/><meta property="og:url" content="https://fleishor.github.io/Kubernetes/Inter-Pod-Kommunikation-mit-Flannel"/><meta property="twitter:url" content="https://fleishor.github.io/Kubernetes/Inter-Pod-Kommunikation-mit-Flannel"/><link rel="icon" href="../static/icon.png"/><meta name="description" content="Inter-Pod-Kommunkation mit Flannel"/><meta name="generator" content="Quartz"/><link href="../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../static/contentIndex.json").then(data => data.json())</script></head><body data-slug="Kubernetes/Inter-Pod-Kommunikation-mit-Flannel"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="..">MyDigitalGarden</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><div class="explorer desktop-only"><button type="button" id="mobile-explorer" class="collapsed hide-until-loaded" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;ArcGIS&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Dotnet&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Dotnet/Authentication&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Dotnet/Mediatr&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Elastic8&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Kubernetes&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Linux&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Mindmaps&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Obsidian&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SmartHome&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SmartHome/Docker&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SmartHome/Docker/Installations&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SmartHome/HomeAssistant&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SmartHome/Homematic&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SmartHome/NodeRed&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Softwarearchitecture&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Windows&quot;,&quot;collapsed&quot;:true}]" data-mobile="true" aria-controls="explorer-content" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><button type="button" id="desktop-explorer" class="title-button" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;ArcGIS&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Dotnet&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Dotnet/Authentication&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Dotnet/Mediatr&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Elastic8&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Kubernetes&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Linux&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Mindmaps&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Obsidian&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SmartHome&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SmartHome/Docker&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SmartHome/Docker/Installations&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SmartHome/HomeAssistant&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SmartHome/Homematic&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SmartHome/NodeRed&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Softwarearchitecture&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Windows&quot;,&quot;collapsed&quot;:true}]" data-mobile="false" aria-controls="explorer-content" aria-expanded="true"><h2>Explorer</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="ArcGIS"><button class="folder-button"><span class="folder-title">ArcGIS</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="ArcGIS"><li><a href="../ArcGIS/Glossary-for-GIS" data-for="ArcGIS/Glossary-for-GIS" title="Glossary for GIS">Glossary for GIS</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Dotnet"><button class="folder-button"><span class="folder-title">Dotnet</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Dotnet"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Dotnet/Authentication"><button class="folder-button"><span class="folder-title">Authentication</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Dotnet/Authentication"><li><a href="../Dotnet/Authentication/Cookie-based-Authentication" data-for="Dotnet/Authentication/Cookie-based-Authentication" title="Cookie based Authentication">Cookie based Authentication</a></li><li><a href="../Dotnet/Authentication/JWT-based-Authentication" data-for="Dotnet/Authentication/JWT-based-Authentication" title="JWT based authentication">JWT based authentication</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Dotnet/Mediatr"><button class="folder-button"><span class="folder-title">Mediatr</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Dotnet/Mediatr"><li><a href="../Dotnet/Mediatr/Serilog-for-CQRS-with-MediatR" data-for="Dotnet/Mediatr/Serilog-for-CQRS-with-MediatR" title="Add Serilog to &quot;CQRS with MediatR&quot;">Add Serilog to &quot;CQRS with MediatR&quot;</a></li><li><a href="../Dotnet/Mediatr/CQRS-with-MediatR" data-for="Dotnet/Mediatr/CQRS-with-MediatR" title="CQRS with MediatR">CQRS with MediatR</a></li></ul></div></li><li><a href="../Dotnet/Automapper" data-for="Dotnet/Automapper" title="Automapper and why not to use it">Automapper and why not to use it</a></li><li><a href="../Dotnet/Kiota-OpenAPI-Client-Generator" data-for="Dotnet/Kiota-OpenAPI-Client-Generator" title="Kiota OpenApi client generator">Kiota OpenApi client generator</a></li><li><a href="../Dotnet/PDFSharp" data-for="Dotnet/PDFSharp" title="PDFSharp">PDFSharp</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Elastic8"><button class="folder-button"><span class="folder-title">Elastic8</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Elastic8"><li><a href="../Elastic8/Elastic8-Overview" data-for="Elastic8/Elastic8-Overview" title="Elastic8 - Übersicht">Elastic8 - Übersicht</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Kubernetes"><button class="folder-button"><span class="folder-title">Kubernetes</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Kubernetes"><li><a href="../Kubernetes/ClusterIP-Service" data-for="Kubernetes/ClusterIP-Service" title="ClusterIP Service">ClusterIP Service</a></li><li><a href="../Kubernetes/Create-Vagrant-BaseBox-For-Ubuntu2204" data-for="Kubernetes/Create-Vagrant-BaseBox-For-Ubuntu2204" title="Create a Vagrant base box for Ubuntu 22.04">Create a Vagrant base box for Ubuntu 22.04</a></li><li><a href="../Kubernetes/Deploy-Nginx-und-NetShoot" data-for="Kubernetes/Deploy-Nginx-und-NetShoot" title="Deploy Nginx und NetShoot">Deploy Nginx und NetShoot</a></li><li><a href="../Kubernetes/Installation-eines-Kubernetes-Cluster-mit-Vagrant" data-for="Kubernetes/Installation-eines-Kubernetes-Cluster-mit-Vagrant" title="Installation eines Kubernetes Clusters mit Vagrant">Installation eines Kubernetes Clusters mit Vagrant</a></li><li><a href="../Kubernetes/Inter-Pod-Kommunikation-mit-Flannel" data-for="Kubernetes/Inter-Pod-Kommunikation-mit-Flannel" title="Inter-Pod-Kommunkation mit Flannel">Inter-Pod-Kommunkation mit Flannel</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Linux"><button class="folder-button"><span class="folder-title">Linux</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Linux"><li><a href="../Linux/Backup-HDD-to-Image-And-Mount" data-for="Linux/Backup-HDD-to-Image-And-Mount" title="Backup HDD to image file and mount the image file">Backup HDD to image file and mount the image file</a></li><li><a href="../Linux/Command-line-tool-for-Trash" data-for="Linux/Command-line-tool-for-Trash" title="Command line tool for Trash in Ubuntu">Command line tool for Trash in Ubuntu</a></li><li><a href="../Linux/iPerf3" data-for="Linux/iPerf3" title="iPerf(3)">iPerf(3)</a></li><li><a href="../Linux/Linux-Kommandos-zur-Audio-Video-Verwaltung" data-for="Linux/Linux-Kommandos-zur-Audio-Video-Verwaltung" title="Linux Kommandos zur Audio/Video Verwaltung">Linux Kommandos zur Audio/Video Verwaltung</a></li><li><a href="../Linux/Linux-Kommandos-zur-Bilderverwaltung" data-for="Linux/Linux-Kommandos-zur-Bilderverwaltung" title="Linux Kommandos zur Bilderverwaltung">Linux Kommandos zur Bilderverwaltung</a></li><li><a href="../Linux/Setup-password-less-SSH-login" data-for="Linux/Setup-password-less-SSH-login" title="Setup password-less SSH login">Setup password-less SSH login</a></li><li><a href="../Linux/Show-disk-usage-in-Linux" data-for="Linux/Show-disk-usage-in-Linux" title="Show disk usage in Linux">Show disk usage in Linux</a></li><li><a href="../Linux/SNMP-client" data-for="Linux/SNMP-client" title="SNMP client">SNMP client</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Mindmaps"><button class="folder-button"><span class="folder-title">Mindmaps</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Mindmaps"><li><a href="../Mindmaps/KI" data-for="Mindmaps/KI" title="KI">KI</a></li></ul></div></li><li><div class="folder-outer "><ul style="padding-left:0;" class="content" data-folderul></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Obsidian"><button class="folder-button"><span class="folder-title">Obsidian</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Obsidian"><li><a href="../Obsidian/Important-commands-in-Quartz4" data-for="Obsidian/Important-commands-in-Quartz4" title="Important commands in Quartz4">Important commands in Quartz4</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="SmartHome"><button class="folder-button"><span class="folder-title">SmartHome</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="SmartHome"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="SmartHome/Docker"><button class="folder-button"><span class="folder-title">Docker</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="SmartHome/Docker"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="SmartHome/Docker/Installations"><button class="folder-button"><span class="folder-title">Installations</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="SmartHome/Docker/Installations"><li><a href="../SmartHome/Docker/Installations/Grafana-with-Docker" data-for="SmartHome/Docker/Installations/Grafana-with-Docker" title="Grafana with Docker">Grafana with Docker</a></li><li><a href="../SmartHome/Docker/Installations/InfluxDB2-with-Docker" data-for="SmartHome/Docker/Installations/InfluxDB2-with-Docker" title="InfluxDB 2.x with Docker">InfluxDB 2.x with Docker</a></li><li><a href="../SmartHome/Docker/Installations/Portainer-with-Docker" data-for="SmartHome/Docker/Installations/Portainer-with-Docker" title="Installation of Portainer">Installation of Portainer</a></li><li><a href="../SmartHome/Docker/Installations/Keycloak-with-Docker" data-for="SmartHome/Docker/Installations/Keycloak-with-Docker" title="Keycloak with Docker">Keycloak with Docker</a></li><li><a href="../SmartHome/Docker/Installations/Loki-with-Docker" data-for="SmartHome/Docker/Installations/Loki-with-Docker" title="Loki with Docker">Loki with Docker</a></li><li><a href="../SmartHome/Docker/Installations/Mosquitto-with-Docker" data-for="SmartHome/Docker/Installations/Mosquitto-with-Docker" title="Mosquitto with Docker">Mosquitto with Docker</a></li><li><a href="../SmartHome/Docker/Installations/NodeRed-with-Docker" data-for="SmartHome/Docker/Installations/NodeRed-with-Docker" title="NodeRed with Docker">NodeRed with Docker</a></li><li><a href="../SmartHome/Docker/Installations/Promtail-with-Docker" data-for="SmartHome/Docker/Installations/Promtail-with-Docker" title="Promtail with Docker">Promtail with Docker</a></li><li><a href="../SmartHome/Docker/Installations/Telegraf-with-Docker" data-for="SmartHome/Docker/Installations/Telegraf-with-Docker" title="Telegraf with Docker">Telegraf with Docker</a></li></ul></div></li><li><a href="../SmartHome/Docker/Fritzconnect" data-for="SmartHome/Docker/Fritzconnect" title="Command line tools of fritzconnect">Command line tools of fritzconnect</a></li><li><a href="../SmartHome/Docker/Fritzbox2Telegraf" data-for="SmartHome/Docker/Fritzbox2Telegraf" title="Forward all AVM statistics to Telegraf and to InfluxDB2">Forward all AVM statistics to Telegraf and to InfluxDB2</a></li><li><a href="../SmartHome/Docker/Add-SNMP-to-Telegraf" data-for="SmartHome/Docker/Add-SNMP-to-Telegraf" title="Send SNMP statistics via Telegraf to InfluxDB">Send SNMP statistics via Telegraf to InfluxDB</a></li><li><a href="../SmartHome/Docker/Smtp2MQTT" data-for="SmartHome/Docker/Smtp2MQTT" title="Smtp2MQTT">Smtp2MQTT</a></li><li><a href="../SmartHome/Docker/WebHook2MQTT" data-for="SmartHome/Docker/WebHook2MQTT" title="WebHook2MQTT">WebHook2MQTT</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="SmartHome/HomeAssistant"><button class="folder-button"><span class="folder-title">HomeAssistant</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="SmartHome/HomeAssistant"><li><a href="../SmartHome/HomeAssistant/Forward-HomeAssistant-logs-to-Grafana-Loki-with-Promtail" data-for="SmartHome/HomeAssistant/Forward-HomeAssistant-logs-to-Grafana-Loki-with-Promtail" title="Forward-HomeAssistant-logs-to-Grafana-Loki-with-Promtail">Forward-HomeAssistant-logs-to-Grafana-Loki-with-Promtail</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="SmartHome/Homematic"><button class="folder-button"><span class="folder-title">Homematic</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="SmartHome/Homematic"><li><a href="../SmartHome/Homematic/Install-NodeRed-on-RaspberryPi" data-for="SmartHome/Homematic/Install-NodeRed-on-RaspberryPi" title="Install NodeRed on RaspberryPi (homematic.fritz.box)">Install NodeRed on RaspberryPi (homematic.fritz.box)</a></li><li><a href="../SmartHome/Homematic/Install-Promtail-on-RaspberryPi" data-for="SmartHome/Homematic/Install-Promtail-on-RaspberryPi" title="Install Promtail on RaspberryPi (homematic.fritz.box)">Install Promtail on RaspberryPi (homematic.fritz.box)</a></li><li><a href="../SmartHome/Homematic/Install-Telegraf-on-RaspberryPi" data-for="SmartHome/Homematic/Install-Telegraf-on-RaspberryPi" title="Install-Telegraf-on-RaspberryPi">Install-Telegraf-on-RaspberryPi</a></li><li><a href="../SmartHome/Homematic/Integrate-Voltcraft-Sem6000-on-RaspberryPi" data-for="SmartHome/Homematic/Integrate-Voltcraft-Sem6000-on-RaspberryPi" title="Integrate Voltcraft SEM6000 (homematic.fritz.box)">Integrate Voltcraft SEM6000 (homematic.fritz.box)</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="SmartHome/NodeRed"><button class="folder-button"><span class="folder-title">NodeRed</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="SmartHome/NodeRed"><li><a href="../SmartHome/NodeRed/Forward-MQTT-To-Telegram" data-for="SmartHome/NodeRed/Forward-MQTT-To-Telegram" title="Forward MQTT message to telegram">Forward MQTT message to telegram</a></li></ul></div></li><li><a href="../SmartHome/Influxdb2-Maintenance" data-for="SmartHome/Influxdb2-Maintenance" title="InfluxDB2 Maintenance">InfluxDB2 Maintenance</a></li><li><a href="../SmartHome/Install-Docker" data-for="SmartHome/Install-Docker" title="Installation Docker">Installation Docker</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Softwarearchitecture"><button class="folder-button"><span class="folder-title">Softwarearchitecture</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Softwarearchitecture"><li><a href="../Softwarearchitecture/SOLID-Principles" data-for="Softwarearchitecture/SOLID-Principles" title="S.O.L.I.D Principles">S.O.L.I.D Principles</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Windows"><button class="folder-button"><span class="folder-title">Windows</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Windows"><li><a href="../Windows/Hyper-V-und-DefaultSwitch" data-for="Windows/Hyper-V-und-DefaultSwitch" title="Create and configure a new NAT switch for Hyper-V">Create and configure a new NAT switch for Hyper-V</a></li><li><a href="../Windows/Windows-Terminal-Panes" data-for="Windows/Windows-Terminal-Panes" title="Windows Terminal Panes">Windows Terminal Panes</a></li></ul></div></li></ul></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><div class="cookies-banner hidden"><div>This website uses cookies to ensure you get the best experience on our website. Who doesn't like cookies?</div><button>Feed me</button></div><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../Kubernetes/">Kubernetes</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>Inter-Pod-Kommunkation mit Flannel</a></div></nav><h1 class="article-title">Inter-Pod-Kommunkation mit Flannel</h1><p show-comma="true" class="content-meta"><time datetime="2024-12-30T16:06:39.828Z">2024-12-30</time><span>7 min read</span></p><ul class="tags"><li><a href="../tags/Kubernetes" class="internal tag-link">Kubernetes</a></li></ul></div></div><article class="popover-hint"><h2 id="übersicht">Übersicht<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#übersicht" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Innerhalb Kubernetes kann sich jeder Pod mit jedem anderem Pod unterhalten, unabhängig ob er auf dem gleichen Knoten läuft oder auf einem anderem. Gelöst wird das über das CNI (Container Network Interface) von Kubernetes. Hier wird erklärt, wie es mit Flannel funktioniert.</p>
<h2 id="ablauf">Ablauf<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#ablauf" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p><img src="../Kubernetes/Images-Inter-Pod-Kommunikation-mit-Flannel/Nginx-Netzwerk-Container2Container.drawio.png" width="auto" height="auto" alt/></p>
<h3 id="konfiguration-flannel">Konfiguration Flannel<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#konfiguration-flannel" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>In der flannel.yaml muß Flannel auf die richtige (enp0s8) Netzwerk-Karte gesetzt werden</li>
<li>Standardmäßig wird immer die erste verwendet und das ist im Falle von vagrant der ssh Zugang (NAT)</li>
</ul>
<pre><code>containers:
      - name: kube-flannel
        image: docker.io/rancher/mirrored-flannelcni-flannel:v0.19.2
        command:
        - /opt/bin/flanneld
        args:
        - --ip-masq
        - --kube-subnet-mgr
        - --iface=enp0s8
        resources:
</code></pre>
<h3 id="curl-von-einem-pod-auf-node-01-zu-einem-pod-auf-node-02">Curl von einem Pod auf node-01 zu einem Pod auf node-02<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#curl-von-einem-pod-auf-node-01-zu-einem-pod-auf-node-02" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>Ich verbinde mich mit dem netshoot-container im Pod -7xztr und mache einen curl aufruf in den Pod -cthsp der auf dem Node-02 läuft.</li>
<li>Anhand der Antwort (Hostname) sehen wir, dass wirklich der nginx auf dem anderen Knoten aufgerufen wurde.</li>
</ul>
<pre><code>fleishor@desktop:~/vagrant-kubernetes-cluster$ kubectl get pods -o wide
NAME                                READY   STATUS    RESTARTS       AGE    IP            NODE      NOMINATED NODE   READINESS GATES
nginx-deployment-84d477cd8f-7xztr   2/2     Running   4 (3h2m ago)   7d1h   10.244.1.54   node-01   &lt;none>           &lt;none>
nginx-deployment-84d477cd8f-cthsp   2/2     Running   0              3h     10.244.2.42   node-02   &lt;none>           &lt;none>
nginx-deployment-84d477cd8f-dqf5x   2/2     Running   4 (3h1m ago)   7d1h   10.244.3.28   node-03   &lt;none>           &lt;none>
nginx-deployment-84d477cd8f-gqvj4   2/2     Running   0              3h     10.244.3.29   node-03   &lt;none>           &lt;none>
nginx-deployment-84d477cd8f-mmgcr   2/2     Running   4 (3h1m ago)   7d1h   10.244.2.41   node-02   &lt;none>           &lt;none>
nginx-deployment-84d477cd8f-vmpsn   2/2     Running   0              3h     10.244.1.55   node-01   &lt;none>           &lt;none>
fleishor@desktop:~/vagrant-kubernetes-cluster$ kubectl exec -it nginx-deployment-84d477cd8f-7xztr -c netshoot-container -- /bin/bash
bash-5.2# ^C
bash-5.2# curl 10.244.2.42
nginx-deployment-84d477cd8f-cthsp
bash-5.2#
</code></pre>
<p>Der Auflauf ist wie folgt:</p>
<ul>
<li>Aufruf von ‘curl 10.244.2.42’ im Container netshoot-container im Pod -7xztr</li>
<li>Netzwerkanfrage wird auf veth (10.244.1.54) und weiter auf den veth-Endpunkt im cni0 weiter geleitet</li>
<li>CNI stellt fest, dass die IP-Adresse ausserhalb der Bridge-Adresse (10.244.1.0/24) ist und gibt die Netzwerk-Pakete an den zugehörigen default router weiter (10.244.1.1)</li>
<li>Die Routing-Einträge auf dem Host node-01 geben vor, dass alles auf 10.244.2.0/24 and das Netzwerk-Interface flannel.1 geleitet werden sollen</li>
<li>Auf flannel.1 nimmt der flanneld-Daemon die Netzwerk-Pakete entgegen, verpackt diese ins VXLAN-Format und schickt sie via UDP an den node-02</li>
<li>Die Zuordnung welcher Knoten welches Pod-Netzwerk hat, wird in der ETC-Datenbank von Kubernetes gespeichert</li>
<li>Auf node-02 nimmt flannel.d das Packet entgegen, entpackt es und gibt es and die Netzwerk-Bridge cni0 auf node-02 weiter.</li>
<li>Die Netzwerk-Bridge letzte das Netzwerkpackt dann an den zugehörigen Pod weiter</li>
</ul>
<h3 id="auf-den-node-01-laufen-2-pods-mit-jeweils-2-containern-drinnen">Auf den Node-01 laufen 2 Pods (mit jeweils 2 Containern drinnen)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#auf-den-node-01-laufen-2-pods-mit-jeweils-2-containern-drinnen" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><code>fleishor@desktop:~/vagrant-kubernetes-cluster$ kubectl get pods -o wide | grep node-01
nginx-deployment-84d477cd8f-7xztr   2/2     Running   4 (91m ago)   6d23h   10.244.1.54   node-01   &lt;none>           &lt;none>
nginx-deployment-84d477cd8f-vmpsn   2/2     Running   0             89m     10.244.1.55   node-01   &lt;none>           &lt;none>
fleishor@desktop:~/vagrant-kubernetes-cluster$
</code></pre>
<h3 id="netzwerk-konfiguration-im-pod--7xztr">Netzwerk-Konfiguration im Pod -7xztr<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#netzwerk-konfiguration-im-pod--7xztr" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Ich verbinde mich direkt mit dem netshoot-Container im Pod -7xztr und lass mir die Netzwerk-Konfiguration anzeigen:</p>
<pre><code>fleishor@desktop:~/vagrant-kubernetes-cluster$ kubectl exec -it nginx-deployment-84d477cd8f-7xztr -c netshoot-container -- /bin/bash

bash-5.2# ip addr show
1: lo: &lt;LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN 
       group default qlen 1000
       link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
       inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
3: eth0@if7: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue state UP 
             group default
             link/ether 3e:2e:2e:5c:cd:87 brd ff:ff:ff:ff:ff:ff link-netnsid 0
             inet 10.244.1.54/24 brd 10.244.1.255 scope global eth0
             valid_lft forever preferred_lft forever
</code></pre>
<ul>
<li>Eth0@if7 ist eine virtuelle Netzwerk-Karte dessen Gegenstück mit der Bridge cni0 im Node-01 verbunden ist.</li>
<li>Beachte auch die IP-Adresse, entspricht der IP-Adresse des Pods.</li>
<li>Jeder Pod bekommt eine IP-Adresse aus dem Bereich der dem Node zugeordent ist. Für Node-01 ist das 10.244.1.0/24. Für den Node-02 wäre das 10.244.2.0/24.</li>
</ul>
<h3 id="bridge-interface-cni0-auf-host-node-01">Bridge-Interface cni0 auf Host node-01<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#bridge-interface-cni0-auf-host-node-01" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Das CNI legt auch auf dem Host-Rechner node-01 eine Netzwerk-Bridge cni0 an.</p>
<pre><code>vagrant@node-01:~$ ip link show type bridge
5: cni0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue state UP mode 
         DEFAULT group default qlen 1000
         link/ether 2a:c4:20:2a:2b:de brd ff:ff:ff:ff:ff:ff
vagrant@node-01:~$
</code></pre>
<p>Dieser Bridge werden alle Endpunkte der Virtuellen Netzwerkkarten aus den Pods zugeordnet.</p>
<pre><code>vagrant@node-01:~$ ip link show type veth
6: veth4df30ebd@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue 
                     master cni0 state UP mode DEFAULT group default
                     link/ether 92:c0:05:2e:28:b4 brd ff:ff:ff:ff:ff:ff 
                     link-netns cni-6c483948-280e-5b26-4fc8-706a417619c0
7: veth47afc3a1@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue 
                     master cni0 state UP mode DEFAULT group default
                     link/ether ca:74:81:e9:3c:70 brd ff:ff:ff:ff:ff:ff 
                     link-netns cni-5eca8fa8-eeac-23d8-0cc0-f62e2411cb43
8: veth6a213ca6@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue 
                     master cni0 state UP mode DEFAULT group default
                     link/ether a6:07:77:a0:05:b6 brd ff:ff:ff:ff:ff:ff 
                     link-netns cni-a1923bef-9f99-069d-a164-39227325bdf0
vagrant@node-01:~$
</code></pre>
<p>Virtuelle Netzwerk-Interface die mit der Bridge CNI0 verbunden sind</p>
<pre><code>vagrant@node-01:~$ bridge link show
6: veth4df30ebd@enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 
                        master cni0 state forwarding priority 32 cost 2
7: veth47afc3a1@enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 
                        master cni0 state forwarding priority 32 cost 2
8: veth6a213ca6@enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 
                        master cni0 state forwarding priority 32 cost 2
vagrant@node-01:~$
</code></pre>
<h3 id="alle-netzwerk-interface-auf-host-node-01">Alle Netzwerk-Interface auf Host node-01<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#alle-netzwerk-interface-auf-host-node-01" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><code>vagrant@node-01:~$ ip link show
1: lo: &lt;LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode
       DEFAULT group default qlen 1000
       link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP mode 
           DEFAULT group default qlen 1000
           link/ether 08:00:27:64:75:a1 brd ff:ff:ff:ff:ff:ff
3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP mode 
           DEFAULT group default qlen 1000
           link/ether 08:00:27:af:59:f2 brd ff:ff:ff:ff:ff:ff
4: flannel.1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue 
              state UNKNOWN mode DEFAULT group default
              link/ether c2:08:ec:f4:a0:6a brd ff:ff:ff:ff:ff:ff
5: cni0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue 
         state UP mode DEFAULT group default qlen 1000
         link/ether 2a:c4:20:2a:2b:de brd ff:ff:ff:ff:ff:ff
6: veth4df30ebd@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc 
                     noqueue master cni0 state UP mode DEFAULT group default
                     link/ether 92:c0:05:2e:28:b4 brd ff:ff:ff:ff:ff:ff 
                     link-netns cni-6c483948-280e-5b26-4fc8-706a417619c0
7: veth47afc3a1@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc 
                     noqueue master cni0 state UP mode DEFAULT group default
                     link/ether ca:74:81:e9:3c:70 brd ff:ff:ff:ff:ff:ff 
                     link-netns cni-5eca8fa8-eeac-23d8-0cc0-f62e2411cb43
8: veth6a213ca6@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc 
                     noqueue master cni0 state UP mode DEFAULT group default
                     link/ether a6:07:77:a0:05:b6 brd ff:ff:ff:ff:ff:ff 
                     link-netns cni-a1923bef-9f99-069d-a164-39227325bdf0
</code></pre>
<h3 id="ip-adresses-of-host-node-01">IP-Adresses of Host node-01<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#ip-adresses-of-host-node-01" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><code>vagrant@node-01:~$ ip addr show
1: lo: &lt;LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group 
        default qlen 1000
        link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
        inet 127.0.0.1/8 scope host lo
        valid_lft forever preferred_lft forever
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel 
           state UP group default qlen 1000
           link/ether 08:00:27:64:75:a1 brd ff:ff:ff:ff:ff:ff
           inet 10.0.2.15/24 metric 100 brd 10.0.2.255 scope global dynamic enp0s3
           valid_lft 79395sec preferred_lft 79395sec
3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel 
           state UP group default qlen 1000
           link/ether 08:00:27:af:59:f2 brd ff:ff:ff:ff:ff:ff
           inet 192.168.56.11/24 brd 192.168.56.255 scope global enp0s8
           valid_lft forever preferred_lft forever
4: flannel.1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue 
              state UNKNOWN group default
              link/ether c2:08:ec:f4:a0:6a brd ff:ff:ff:ff:ff:ff
              inet 10.244.1.0/32 scope global flannel.1
              valid_lft forever preferred_lft forever
5: cni0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue state UP 
         group default qlen 1000
         link/ether 2a:c4:20:2a:2b:de brd ff:ff:ff:ff:ff:ff
         inet 10.244.1.1/24 brd 10.244.1.255 scope global cni0
         valid_lft forever preferred_lft forever
6: veth4df30ebd@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc 
                     noqueue master cni0 state UP group default
                     link/ether 92:c0:05:2e:28:b4 brd ff:ff:ff:ff:ff:ff 
                     link-netns cni-6c483948-280e-5b26-4fc8-706a417619c0
7: veth47afc3a1@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc 
                     noqueue master cni0 state UP group default
                     link/ether ca:74:81:e9:3c:70 brd ff:ff:ff:ff:ff:ff 
                     link-netns cni-5eca8fa8-eeac-23d8-0cc0-f62e2411cb43
8: veth6a213ca6@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc 
                     noqueue master cni0 state UP group default
                     link/ether a6:07:77:a0:05:b6 brd ff:ff:ff:ff:ff:ff 
                     link-netns cni-a1923bef-9f99-069d-a164-39227325bdf0
</code></pre>
<h3 id="routing-auf-host-node-01">Routing auf Host node-01<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#routing-auf-host-node-01" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Ensprechend wird auch das Routing auf dem Host node-01 angepasst</p>
<pre><code>vagrant@node-01:~$ ip route
default via 10.0.2.2 dev enp0s3 proto dhcp src 10.0.2.15 metric 100
10.0.2.0/24 dev enp0s3 proto kernel scope link src 10.0.2.15 metric 100
10.0.2.2 dev enp0s3 proto dhcp scope link src 10.0.2.15 metric 100
10.0.2.3 dev enp0s3 proto dhcp scope link src 10.0.2.15 metric 100
10.244.0.0/24 via 10.244.0.0 dev flannel.1 onlink
10.244.1.0/24 dev cni0 proto kernel scope link src 10.244.1.1
10.244.2.0/24 via 10.244.2.0 dev flannel.1 onlink
10.244.3.0/24 via 10.244.3.0 dev flannel.1 onlink
192.168.56.0/24 dev enp0s8 proto kernel scope link src 192.168.56.11
</code></pre>
<h3 id="flanneld-daemon">Flanneld Daemon<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#flanneld-daemon" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>Flanneld erzeugt entsprechende Routingeinträge und horcht auf das Netzwerk-Interface fannel.1.</li>
<li>Ernimmt diese Packet verpackt sie in VXLAN und schickt sie via UDP an den ensprechenden Cluster-Node weiter</li>
<li>Flannedld horcht auch auf das externe Netzwerk Interface, nimmt VXLAN-Pakete entgegen, entpackt diese und leitete sie an die Netzwerk-Bridge cni0 weiter</li>
</ul>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="vagrant@node-01:~$" data-theme="github-light github-dark"><code data-language="vagrant@node-01:~$" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>root        2704    2199  0 13:12 ?        00:00:03 /opt/bin/flanneld --ip-masq --kube-subnet-mgr --iface=enp0s8</span></span></code></pre></figure>
<h2 id="quellen">Quellen<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#quellen" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><a href="https://www.youtube.com/watch?v=U35C0EPSwoY&amp;list=PLSAko72nKb8QWsfPpBlsw-kOdMBD7sra-&amp;index=2" class="external">Understanding Kubernetes Networking. Part 2: POD Network, CNI, and Flannel CNI Plug-in<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://www.redhat.com/sysadmin/kubernetes-pods-communicate-nodes" class="external">Kubernetes network stack fundamentals: How pods on different nodes communicate<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul>
<h2 id="tags">Tags<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#tags" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h2 id="netzwerk-kubernetes">Netzwerk <a href=".././tags/Kubernetes" class="tag-link internal alias" data-slug="tags/Kubernetes">Kubernetes</a><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#netzwerk-kubernetes" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h2 id="pflegeanleitung">Pflegeanleitung<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#pflegeanleitung" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>15.11.2022 gepflanzt</li>
<li>28.11.2022 Flannel Konfiguration hinzugefügt</li>
</ul></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="toc desktop-only"><button type="button" id="toc" class aria-controls="toc-content" aria-expanded="true"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content" class><ul class="overflow"><li class="depth-0"><a href="#übersicht" data-for="übersicht">Übersicht</a></li><li class="depth-0"><a href="#ablauf" data-for="ablauf">Ablauf</a></li><li class="depth-1"><a href="#konfiguration-flannel" data-for="konfiguration-flannel">Konfiguration Flannel</a></li><li class="depth-1"><a href="#curl-von-einem-pod-auf-node-01-zu-einem-pod-auf-node-02" data-for="curl-von-einem-pod-auf-node-01-zu-einem-pod-auf-node-02">Curl von einem Pod auf node-01 zu einem Pod auf node-02</a></li><li class="depth-1"><a href="#auf-den-node-01-laufen-2-pods-mit-jeweils-2-containern-drinnen" data-for="auf-den-node-01-laufen-2-pods-mit-jeweils-2-containern-drinnen">Auf den Node-01 laufen 2 Pods (mit jeweils 2 Containern drinnen)</a></li><li class="depth-1"><a href="#netzwerk-konfiguration-im-pod--7xztr" data-for="netzwerk-konfiguration-im-pod--7xztr">Netzwerk-Konfiguration im Pod -7xztr</a></li><li class="depth-1"><a href="#bridge-interface-cni0-auf-host-node-01" data-for="bridge-interface-cni0-auf-host-node-01">Bridge-Interface cni0 auf Host node-01</a></li><li class="depth-1"><a href="#alle-netzwerk-interface-auf-host-node-01" data-for="alle-netzwerk-interface-auf-host-node-01">Alle Netzwerk-Interface auf Host node-01</a></li><li class="depth-1"><a href="#ip-adresses-of-host-node-01" data-for="ip-adresses-of-host-node-01">IP-Adresses of Host node-01</a></li><li class="depth-1"><a href="#routing-auf-host-node-01" data-for="routing-auf-host-node-01">Routing auf Host node-01</a></li><li class="depth-1"><a href="#flanneld-daemon" data-for="flanneld-daemon">Flanneld Daemon</a></li><li class="depth-0"><a href="#quellen" data-for="quellen">Quellen</a></li><li class="depth-0"><a href="#tags" data-for="tags">Tags</a></li><li class="depth-0"><a href="#netzwerk-kubernetes" data-for="netzwerk-kubernetes">Netzwerk Kubernetes</a></li><li class="depth-0"><a href="#pflegeanleitung" data-for="pflegeanleitung">Pflegeanleitung</a></li></ul></div></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> © 2025</p><ul><li><a href="/WebSite/impressum.html">Impressum</a></li><li><a href="/WebSite/datenschutzerklaerung.html">Datenschutzerklärung</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="../postscript.js" type="module"></script></html>